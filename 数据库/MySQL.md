﻿# MySQL面试题

MySQL两种数据库引擎的区别？
|数据库引擎 |MyISAM | Innodb|
|------|--------|-------|
|事物支持 |   不支持  |       支持|
|锁的粒度|     table     |                 Row|
|存储容量 |   没有上限      |         64TB|
|哈希索引 |  不支持        |               支持|
|全文索引  | 支持            |             不支持|
|外键      |      不支持           |         支持|

sql语句应该考虑哪些安全性？ 

* 防止sql注入，对特殊字符进行转义，过滤或者使用预编译的sql语句绑定变量。 
* 最小权限原则，特别是不要用root账户，为不同的类型的动作或者组建使用不同的账户。 
* 当sql运行出错时，不要把数据库返回的错误信息全部显示给用户，以防止泄漏服务器和数据库相关信息。

一张表,里面有ID自增主键,当insert了17条记录之后,删除了第15,16,17条记录,再把Mysql重启,再insert一条记录,这条记录的ID是18还是15 ？

* 如果表的类型是MyISAM，那么是18。 因为MyISAM表会把自增主键的最大ID记录到数据文件里，重启MySQL自增主键的最大ID也不会丢失。 
* 如果表的类型是InnoDB，那么是15。InnoDB表只是把自增主键的最大ID记录到内存中，所以重启数据库或者是对表进行OPTIMIZE操作，都会导致最大ID丢失。

简述项目中优化sql语句执行效率的方法，从哪些方面。sql语句性能如何分析？ 

* 尽量选择较小的列 
* 将where中用的比较频繁的字段建立索引 
* select子句中避免使用‘*’ 
* 避免在索引列上使用计算，not，in和<>等操作 
* 当只需要一行数据的时候使用limit 1 
* 保证表单数据不超过200w，适时分割表 
* 针对查询较慢的语句，可以使用explain来分析该语句具体的执行情况